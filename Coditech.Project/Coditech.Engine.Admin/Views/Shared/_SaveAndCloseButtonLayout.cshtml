@model PageHeaderViewModel
<input type="hidden" name="ActionMode" value="" form="@Model.FormId" />
<div style="position:fixed; top:54px; left:0; right:0; background:#fff; border-bottom:1px solid #ddd; z-index:998; padding:10px 20px;">
    <div style="display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:10px;">
        <!-- Page Title -->
        <h4 style="margin:0;">@Model.Title</h4>
        <!-- Save / Cancel Buttons -->
        <div style="display:flex; gap:8px;">
            @if (!string.IsNullOrEmpty(@Model.CancelUrl))
            {
                <a href="@Model.CancelUrl" class="btn btn-secondary">@Model.CancelButtonText</a>
            }
            @if (!string.IsNullOrEmpty(@Model.ActionName))
            {
                <div class="btn-group">
                    <button type="submit"
                            form="@Model.FormId"
                            data-actionmode=@AdminConstants.ActionModeSaveAndClose
                            class="btn btn-success me-0 header-action-btn">
                        @GeneralResources.SaveAndCloseButtonText
                    </button>

                    <button type="button"
                            class="btn btn-success dropdown-toggle dropdown-toggle-split"
                            data-bs-toggle="dropdown"
                            aria-expanded="false">
                        <span class="sr-only">Toggle Dropdown</span>
                        <i class="mdi mdi-chevron-down"></i>
                    </button>

                    <div class="dropdown-menu">
                        <button type="submit"
                                form="@Model.FormId"
                                data-actionmode=@AdminConstants.ActionModeSave
                                class="dropdown-item header-action-btn">
                            @GeneralResources.SaveButtonText
                        </button>
                    </div>
                </div>
            }
        </div>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
       $(document).ready(function () {
        var formId = '@Model.FormId';
        var $form = $('#' + formId);

        $(document).on('click', '.header-action-btn', function (e) {
            e.preventDefault();
            var actionValue = $(this).data('actionmode');
            if ($form.length > 0) {
                var $actionMode = $form.find('input[name="ActionMode"]');
                    $actionMode.val(actionValue);
                    console.log("ActionMode value set to:", $actionMode.val());
                    $form.submit();
            }
        });
    });
</script>
